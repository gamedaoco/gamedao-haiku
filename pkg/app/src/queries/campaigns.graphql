subscription SuccessfulCampaignByOrganisationId($orgId: String!) {
    campaign(where: {organization_id: {_eq: $orgId}, state: {_eq: "Success"}}) {
        id
        campaign_metadata {
            name
        }
    }
}
subscription CampaignContributors($address: String!) {
    campaign_contributor(where: {identity: {address: {_eq: $address}}}) {
        id
        contributed
        campaign {
            campaign_metadata {
                name
                title
                logo
            }
            campaign_contributors_aggregate {
                aggregate {
                    sum {
                        contributed
                    }
                    count
                }
            }
            organization {
                organization_metadata {
                    name
                }
            }
            expiry
            created_at_block
            state
            target
        }
    }
}


subscription campaign($address: String) {
    campaign(where: {admin_identity_id: {_eq: $address}}) {
        target
        campaign_metadata {
            name
            title
            logo
            header
        }
        campaign_contributors_aggregate {
            aggregate {
                sum {
                    contributed
                }
                count
            }
        }
        organization {
            organization_metadata {
                name
            }
        }
    }
}




subscription CampaignsPagination($limit: Int) {
    campaign(limit: $limit) {
        target
        state
        campaign_metadata {
            name
            title
            logo
            header
        }
        campaign_contributors_aggregate {
            aggregate {
                sum {
                    contributed
                }
                count
            }
        }
        organization {
            organization_metadata {
                name
            }
        }
    }
}

subscription CampaignsPaginationCount($searchQuery: String="%") {
    campaign_aggregate(where: {campaign_metadata: {_or: [{name: {_ilike: $searchQuery}}, {description: {_ilike: $searchQuery}}]}}) {
        aggregate {
            count
        }
    }
}
